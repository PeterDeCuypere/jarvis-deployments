import{r as y,a as Ls,R as $s}from"./vendor-CXYkSzXc.js";import{c as Fs,P as zs}from"./utils-BjIEybNf.js";import{P as je}from"./charts-W59KpTaT.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function o(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(i){if(i.ep)return;i.ep=!0;const c=o(i);fetch(i.href,c)}})();var ls={exports:{}},Ie={};/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var s=y,r=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),n=Symbol.iterator,m="@@iterator";function j(t){if(t===null||typeof t!="object")return null;var d=n&&t[n]||t[m];return typeof d=="function"?d:null}var h=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function x(t){{for(var d=arguments.length,N=new Array(d>1?d-1:0),D=1;D<d;D++)N[D-1]=arguments[D];M("error",t,N)}}function M(t,d,N){{var D=h.ReactDebugCurrentFrame,I=D.getStackAddendum();I!==""&&(d+="%s",N=N.concat([I]));var C=N.map(function(E){return String(E)});C.unshift("Warning: "+d),Function.prototype.apply.call(console[t],console,C)}}var q=!1,O=!1,U=!1,Y=!1,T=!1,_;_=Symbol.for("react.module.reference");function B(t){return!!(typeof t=="string"||typeof t=="function"||t===a||t===c||T||t===i||t===f||t===V||Y||t===g||q||O||U||typeof t=="object"&&t!==null&&(t.$$typeof===b||t.$$typeof===v||t.$$typeof===l||t.$$typeof===u||t.$$typeof===p||t.$$typeof===_||t.getModuleId!==void 0))}function X(t,d,N){var D=t.displayName;if(D)return D;var I=d.displayName||d.name||"";return I!==""?N+"("+I+")":N}function Z(t){return t.displayName||"Context"}function z(t){if(t==null)return null;if(typeof t.tag=="number"&&x("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case a:return"Fragment";case o:return"Portal";case c:return"Profiler";case i:return"StrictMode";case f:return"Suspense";case V:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case u:var d=t;return Z(d)+".Consumer";case l:var N=t;return Z(N._context)+".Provider";case p:return X(t,t.render,"ForwardRef");case v:var D=t.displayName||null;return D!==null?D:z(t.type)||"Memo";case b:{var I=t,C=I._payload,E=I._init;try{return z(E(C))}catch{return null}}}return null}var G=Object.assign,Q=0,ne,le,w,S,P,L,R;function J(){}J.__reactDisabledLog=!0;function hs(){{if(Q===0){ne=console.log,le=console.info,w=console.warn,S=console.error,P=console.group,L=console.groupCollapsed,R=console.groupEnd;var t={configurable:!0,enumerable:!0,value:J,writable:!0};Object.defineProperties(console,{info:t,log:t,warn:t,error:t,group:t,groupCollapsed:t,groupEnd:t})}Q++}}function js(){{if(Q--,Q===0){var t={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:G({},t,{value:ne}),info:G({},t,{value:le}),warn:G({},t,{value:w}),error:G({},t,{value:S}),group:G({},t,{value:P}),groupCollapsed:G({},t,{value:L}),groupEnd:G({},t,{value:R})})}Q<0&&x("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Ne=h.ReactCurrentDispatcher,be;function me(t,d,N){{if(be===void 0)try{throw Error()}catch(I){var D=I.stack.trim().match(/\n( *(at )?)/);be=D&&D[1]||""}return`
`+be+t}}var xe=!1,ue;{var gs=typeof WeakMap=="function"?WeakMap:Map;ue=new gs}function Le(t,d){if(!t||xe)return"";{var N=ue.get(t);if(N!==void 0)return N}var D;xe=!0;var I=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var C;C=Ne.current,Ne.current=null,hs();try{if(d){var E=function(){throw Error()};if(Object.defineProperty(E.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(E,[])}catch(H){D=H}Reflect.construct(t,[],E)}else{try{E.call()}catch(H){D=H}t.call(E.prototype)}}else{try{throw Error()}catch(H){D=H}t()}}catch(H){if(H&&D&&typeof H.stack=="string"){for(var k=H.stack.split(`
`),W=D.stack.split(`
`),A=k.length-1,$=W.length-1;A>=1&&$>=0&&k[A]!==W[$];)$--;for(;A>=1&&$>=0;A--,$--)if(k[A]!==W[$]){if(A!==1||$!==1)do if(A--,$--,$<0||k[A]!==W[$]){var K=`
`+k[A].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),typeof t=="function"&&ue.set(t,K),K}while(A>=1&&$>=0);break}}}finally{xe=!1,Ne.current=C,js(),Error.prepareStackTrace=I}var re=t?t.displayName||t.name:"",ee=re?me(re):"";return typeof t=="function"&&ue.set(t,ee),ee}function Ns(t,d,N){return Le(t,!1)}function bs(t){var d=t.prototype;return!!(d&&d.isReactComponent)}function de(t,d,N){if(t==null)return"";if(typeof t=="function")return Le(t,bs(t));if(typeof t=="string")return me(t);switch(t){case f:return me("Suspense");case V:return me("SuspenseList")}if(typeof t=="object")switch(t.$$typeof){case p:return Ns(t.render);case v:return de(t.type,d,N);case b:{var D=t,I=D._payload,C=D._init;try{return de(C(I),d,N)}catch{}}}return""}var ae=Object.prototype.hasOwnProperty,$e={},Fe=h.ReactDebugCurrentFrame;function pe(t){if(t){var d=t._owner,N=de(t.type,t._source,d?d.type:null);Fe.setExtraStackFrame(N)}else Fe.setExtraStackFrame(null)}function xs(t,d,N,D,I){{var C=Function.call.bind(ae);for(var E in t)if(C(t,E)){var k=void 0;try{if(typeof t[E]!="function"){var W=Error((D||"React class")+": "+N+" type `"+E+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof t[E]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw W.name="Invariant Violation",W}k=t[E](d,E,D,N,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(A){k=A}k&&!(k instanceof Error)&&(pe(I),x("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",D||"React class",N,E,typeof k),pe(null)),k instanceof Error&&!(k.message in $e)&&($e[k.message]=!0,pe(I),x("Failed %s type: %s",N,k.message),pe(null))}}}var Vs=Array.isArray;function Ve(t){return Vs(t)}function ws(t){{var d=typeof Symbol=="function"&&Symbol.toStringTag,N=d&&t[Symbol.toStringTag]||t.constructor.name||"Object";return N}}function vs(t){try{return ze(t),!1}catch{return!0}}function ze(t){return""+t}function We(t){if(vs(t))return x("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ws(t)),ze(t)}var ie=h.ReactCurrentOwner,Ds={key:!0,ref:!0,__self:!0,__source:!0},He,Be,we;we={};function Ss(t){if(ae.call(t,"ref")){var d=Object.getOwnPropertyDescriptor(t,"ref").get;if(d&&d.isReactWarning)return!1}return t.ref!==void 0}function Ps(t){if(ae.call(t,"key")){var d=Object.getOwnPropertyDescriptor(t,"key").get;if(d&&d.isReactWarning)return!1}return t.key!==void 0}function Ms(t,d){if(typeof t.ref=="string"&&ie.current&&d&&ie.current.stateNode!==d){var N=z(ie.current.type);we[N]||(x('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',z(ie.current.type),t.ref),we[N]=!0)}}function ks(t,d){{var N=function(){He||(He=!0,x("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",d))};N.isReactWarning=!0,Object.defineProperty(t,"key",{get:N,configurable:!0})}}function Es(t,d){{var N=function(){Be||(Be=!0,x("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",d))};N.isReactWarning=!0,Object.defineProperty(t,"ref",{get:N,configurable:!0})}}var ys=function(t,d,N,D,I,C,E){var k={$$typeof:r,type:t,key:d,ref:N,props:E,_owner:C};return k._store={},Object.defineProperty(k._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(k,"_self",{configurable:!1,enumerable:!1,writable:!1,value:D}),Object.defineProperty(k,"_source",{configurable:!1,enumerable:!1,writable:!1,value:I}),Object.freeze&&(Object.freeze(k.props),Object.freeze(k)),k};function Is(t,d,N,D,I){{var C,E={},k=null,W=null;N!==void 0&&(We(N),k=""+N),Ps(d)&&(We(d.key),k=""+d.key),Ss(d)&&(W=d.ref,Ms(d,I));for(C in d)ae.call(d,C)&&!Ds.hasOwnProperty(C)&&(E[C]=d[C]);if(t&&t.defaultProps){var A=t.defaultProps;for(C in A)E[C]===void 0&&(E[C]=A[C])}if(k||W){var $=typeof t=="function"?t.displayName||t.name||"Unknown":t;k&&ks(E,$),W&&Es(E,$)}return ys(t,k,W,I,D,ie.current,E)}}var ve=h.ReactCurrentOwner,Ye=h.ReactDebugCurrentFrame;function oe(t){if(t){var d=t._owner,N=de(t.type,t._source,d?d.type:null);Ye.setExtraStackFrame(N)}else Ye.setExtraStackFrame(null)}var De;De=!1;function Se(t){return typeof t=="object"&&t!==null&&t.$$typeof===r}function Ke(){{if(ve.current){var t=z(ve.current.type);if(t)return`

Check the render method of \``+t+"`."}return""}}function Cs(t){{if(t!==void 0){var d=t.fileName.replace(/^.*[\\\/]/,""),N=t.lineNumber;return`

Check your code at `+d+":"+N+"."}return""}}var Ge={};function Us(t){{var d=Ke();if(!d){var N=typeof t=="string"?t:t.displayName||t.name;N&&(d=`

Check the top-level render call using <`+N+">.")}return d}}function Je(t,d){{if(!t._store||t._store.validated||t.key!=null)return;t._store.validated=!0;var N=Us(d);if(Ge[N])return;Ge[N]=!0;var D="";t&&t._owner&&t._owner!==ve.current&&(D=" It was passed a child from "+z(t._owner.type)+"."),oe(t),x('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',N,D),oe(null)}}function Ze(t,d){{if(typeof t!="object")return;if(Ve(t))for(var N=0;N<t.length;N++){var D=t[N];Se(D)&&Je(D,d)}else if(Se(t))t._store&&(t._store.validated=!0);else if(t){var I=j(t);if(typeof I=="function"&&I!==t.entries)for(var C=I.call(t),E;!(E=C.next()).done;)Se(E.value)&&Je(E.value,d)}}}function qs(t){{var d=t.type;if(d==null||typeof d=="string")return;var N;if(typeof d=="function")N=d.propTypes;else if(typeof d=="object"&&(d.$$typeof===p||d.$$typeof===v))N=d.propTypes;else return;if(N){var D=z(d);xs(N,t.props,"prop",D,t)}else if(d.PropTypes!==void 0&&!De){De=!0;var I=z(d);x("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",I||"Unknown")}typeof d.getDefaultProps=="function"&&!d.getDefaultProps.isReactClassApproved&&x("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Ts(t){{for(var d=Object.keys(t.props),N=0;N<d.length;N++){var D=d[N];if(D!=="children"&&D!=="key"){oe(t),x("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",D),oe(null);break}}t.ref!==null&&(oe(t),x("Invalid attribute `ref` supplied to `React.Fragment`."),oe(null))}}var Xe={};function Rs(t,d,N,D,I,C){{var E=B(t);if(!E){var k="";(t===void 0||typeof t=="object"&&t!==null&&Object.keys(t).length===0)&&(k+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var W=Cs(I);W?k+=W:k+=Ke();var A;t===null?A="null":Ve(t)?A="array":t!==void 0&&t.$$typeof===r?(A="<"+(z(t.type)||"Unknown")+" />",k=" Did you accidentally export a JSX literal instead of a component?"):A=typeof t,x("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",A,k)}var $=Is(t,d,N,I,C);if($==null)return $;if(E){var K=d.children;if(K!==void 0)if(D)if(Ve(K)){for(var re=0;re<K.length;re++)Ze(K[re],t);Object.freeze&&Object.freeze(K)}else x("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Ze(K,t)}if(ae.call(d,"key")){var ee=z(t),H=Object.keys(d).filter(function(_s){return _s!=="key"}),Pe=H.length>0?"{key: someKey, "+H.join(": ..., ")+": ...}":"{key: someKey}";if(!Xe[ee+Pe]){var Os=H.length>0?"{"+H.join(": ..., ")+": ...}":"{}";x(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Pe,ee,Os,ee),Xe[ee+Pe]=!0}}return t===a?Ts($):qs($),$}}var As=Rs;Ie.Fragment=a,Ie.jsxDEV=As})();ls.exports=Ie;var e=ls.exports,Ce={},Me=Ls;{var fe=Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Ce.createRoot=function(s,r){fe.usingClientEntryPoint=!0;try{return Me.createRoot(s,r)}finally{fe.usingClientEntryPoint=!1}},Ce.hydrateRoot=function(s,r,o){fe.usingClientEntryPoint=!0;try{return Me.hydrateRoot(s,r,o)}finally{fe.usingClientEntryPoint=!1}}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ws={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),F=(s,r)=>{const o=y.forwardRef(({color:a="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:l,className:u="",children:p,...f},V)=>y.createElement("svg",{ref:V,...Ws,width:i,height:i,stroke:a,strokeWidth:l?Number(c)*24/Number(i):c,className:["lucide",`lucide-${Hs(s)}`,u].join(" "),...f},[...r.map(([v,b])=>y.createElement(v,b)),...Array.isArray(p)?p:[p]]));return o.displayName=`${s}`,o};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=F("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=F("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=F("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=F("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=F("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=F("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=F("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=F("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=F("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=F("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=F("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=F("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=F("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=F("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=F("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=F("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=F("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=F("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),te=Fs((s,r)=>({isLoading:!0,loadingMessage:"Initializing...",error:null,rawData:[],columns:[],previewData:[],totalRows:0,spPvPairs:[],outputVariables:[],selectedSpPvPairs:[],selectedOutputVariables:[],isAnalyzing:!1,analysisResults:null,detectedModes:[],tolerance:.02,showDataPreview:!0,activeTab:"timeseries",setLoading:(o,a="")=>s({isLoading:o,loadingMessage:a}),setError:o=>s({error:o,isLoading:!1}),setData:o=>{const a=o.slice(0,100);s({rawData:o,previewData:a,totalRows:o.length,isLoading:!1,loadingMessage:""})},setColumns:o=>s({columns:o}),setSpPvPairs:o=>s({spPvPairs:o,selectedSpPvPairs:o.map(a=>a.baseName)}),setOutputVariables:o=>s({outputVariables:o,selectedOutputVariables:o.map(a=>a.name)}),toggleSpPvPair:o=>{const{selectedSpPvPairs:a}=r(),i=a.includes(o);s({selectedSpPvPairs:i?a.filter(c=>c!==o):[...a,o]})},toggleOutputVariable:o=>{const{selectedOutputVariables:a}=r(),i=a.includes(o);s({selectedOutputVariables:i?a.filter(c=>c!==o):[...a,o]})},selectAllSpPvPairs:()=>{const{spPvPairs:o}=r();s({selectedSpPvPairs:o.map(a=>a.baseName)})},deselectAllSpPvPairs:()=>s({selectedSpPvPairs:[]}),selectAllOutputVariables:()=>{const{outputVariables:o}=r();s({selectedOutputVariables:o.map(a=>a.name)})},deselectAllOutputVariables:()=>s({selectedOutputVariables:[]}),setShowDataPreview:o=>s({showDataPreview:o}),setAnalyzing:o=>s({isAnalyzing:o}),setAnalysisResults:o=>s({analysisResults:o,detectedModes:(o==null?void 0:o.modes)||[],isAnalyzing:!1}),clearAnalysisResults:()=>s({analysisResults:null,detectedModes:[]}),setTolerance:o=>s({tolerance:o}),setActiveTab:o=>s({activeTab:o}),getSelectedColumns:()=>{const{spPvPairs:o,selectedSpPvPairs:a,outputVariables:i,selectedOutputVariables:c}=r(),l=o.filter(p=>a.includes(p.baseName)).flatMap(p=>[p.spColumn,p.pvColumn]),u=i.filter(p=>c.includes(p.name)).map(p=>p.name);return[...l,...u]},reset:()=>s({isLoading:!0,loadingMessage:"Initializing...",error:null,rawData:[],columns:[],previewData:[],totalRows:0,spPvPairs:[],outputVariables:[],selectedSpPvPairs:[],selectedOutputVariables:[],isAnalyzing:!1,analysisResults:null,detectedModes:[],tolerance:.02,showDataPreview:!0,activeTab:"timeseries"})})),ke="cascaded_cstr_10modes_1_table.csv";async function at(){const s=[`/data/${ke}`,`./data/${ke}`,`data/${ke}`];let r=null,o=null,a=null;for(const g of s)try{if(console.log("[DataLoader] Attempting to load data from:",g),r=await fetch(g),console.log("[DataLoader] Response status:",r.status),console.log("[DataLoader] Response headers:"),r.headers.forEach((n,m)=>{console.log(`  ${m}: ${n}`)}),r.ok){a=g,console.log("[DataLoader] Successfully fetched from:",g);break}else console.warn("[DataLoader] HTTP error from",g,"- Status:",r.status),o=new Error(`HTTP ${r.status} from ${g}`)}catch(n){console.warn("[DataLoader] Network error from",g,"-",n.message),o=n}if(!r||!r.ok){const g=`Failed to load data file. Last error: ${(o==null?void 0:o.message)||"Unknown"}`;throw console.error("[DataLoader]",g),new Error(g)}let i=await r.text();console.log("[DataLoader] Received",i.length,"bytes from",a);const c=r.headers.get("content-type");if(console.log("[DataLoader] Content-Type header:",c),!i||i.length<100)throw new Error("Data file appears to be empty or invalid");const l=i.trim();if(l.startsWith("<!")||l.startsWith("<html")||l.startsWith("<HTML"))throw console.error("[DataLoader] Received HTML instead of CSV. First 1000 chars:",i.substring(0,1e3)),new Error("Server returned HTML error page instead of CSV data");const u=i.split(`
`);let p=0;for(let g=0;g<Math.min(u.length,10);g++){const n=u[g].trim(),m=(n.match(/,/g)||[]).length,j=/^[a-zA-Z_"]/.test(n),h=!n.startsWith("â”€")&&!n.startsWith("-"),x=!n.includes("truncated")&&!n.includes("preview");if(console.log(`[DataLoader] Line ${g}: commas=${m}, valid=${j}, notSep=${h}, notWarn=${x}, content="${n.substring(0,50)}..."`),m>=5&&j&&h&&x){p=g,console.log(`[DataLoader] Found CSV header at line ${g}`);break}}p>0&&(console.log(`[DataLoader] Stripping ${p} non-CSV prefix lines`),i=u.slice(p).join(`
`),console.log("[DataLoader] Cleaned CSV length:",i.length,"bytes"));const f=i.split(`
`),v=(f[0]||"").trim();console.log("[DataLoader] Number of lines after cleaning:",f.length),console.log("[DataLoader] Header line:",v.substring(0,150)+"..."),console.log("[DataLoader] Header comma count:",(v.match(/,/g)||[]).length);const b=v.includes(",");if(f.length>1,!b)throw console.error("[DataLoader] Header line does not contain commas:",v),new Error("Data file does not appear to be valid CSV format");return console.log("[DataLoader] CSV validation passed, parsing..."),it(i)}function it(s){return new Promise((r,o)=>{zs.parse(s,{header:!0,dynamicTyping:!0,skipEmptyLines:!0,complete:a=>{a.errors.length>0&&console.warn("CSV parsing warnings:",a.errors),r({data:a.data,columns:a.meta.fields||[]})},error:a=>{o(new Error(`CSV parsing failed: ${a.message}`))}})})}function ct(s){const r=[],o=[],a=["timestamp","operating_regime","_is_outlier"],i=s.filter(l=>l.startsWith("SP_"));for(const l of i){const u=l.replace("SP_",""),p=s.find(f=>f===u);p&&r.push({baseName:u,spColumn:l,pvColumn:p,description:Qe(u)})}const c=r.flatMap(l=>[l.spColumn,l.pvColumn]);for(const l of s){const u=a.some(f=>l.includes(f)),p=c.includes(l);!u&&!p&&o.push({name:l,description:Qe(l)})}return{spPvPairs:r,outputVariables:o}}function Qe(s){return{TT_101:"Temperature Tank 1",TT_102:"Temperature Tank 2",LT_101:"Level Tank 1",LT_102:"Level Tank 2",FT_101:"Flow Tank 1",FT_102:"Flow Tank 2",ST_101:"Stirring Tank 1",ST_102:"Stirring Tank 2",AT_101:"Analyzer/Composition",CT_104:"Controller Output 104",CT_105:"Controller Output 105",CT_106:"Controller Output 106",conversion:"Process Conversion",selectivity:"Process Selectivity"}[s]||s}const es=20,nt=.01,ps=20,Ee=2,ss=3.5,ye=.05,ts=.9;function Ae(s,r){const o=[],a=s.length;let i=0;for(;i<a;)if(s[i]){const c=i;for(;i<a&&s[i];)i++;const l=i-1;l-c+1>=r&&o.push([c,l])}else i++;return o}function se(s){return s.length===0?0:s.reduce((r,o)=>r+o,0)/s.length}function ce(s){if(s.length<=1)return 0;const r=se(s),o=s.reduce((a,i)=>a+Math.pow(i-r,2),0)/s.length;return Math.sqrt(o)}function lt(s){const r=s.length;if(r<2)return 0;const o=(r-1)/2,a=se(s);let i=0,c=0;for(let l=0;l<r;l++)i+=(l-o)*(s[l]-a),c+=Math.pow(l-o,2);return c===0?0:i/c}function mt(s){const r=s.length;if(r<es)return[];const o=ce(s),a=se(s),i=s.map(p=>o===0?0:(p-a)/o),c=new Array(r).fill(0),l=Math.floor(es/2);for(let p=0;p<r;p++){const f=Math.max(0,p-l),V=Math.min(r,p+l+1);if(V-f>=3){const v=i.slice(f,V);c[p]=lt(v)}}const u=c.map(p=>Math.abs(p)<nt);return Ae(u,ps)}function ut(s){const r=ce(s);if(r===0)return 1;const o=[];for(let i=1;i<s.length;i++)o.push(s[i]-s[i-1]);return ce(o)/Math.sqrt(2)/r}function dt(s){if(s<=ye)return Ee;if(s>=ts)return ss;{const r=(s-ye)/(ts-ye),o=1-Math.exp(-5*r);return Ee+(ss-Ee)*o}}function pt(s,r,o){const a=[...s];for(let i=0;i<s.length;i++){if(!r[i])continue;const c=[],l=[-2,-1,1,2];for(const u of l){const p=i+u;p>=0&&p<s.length&&!r[p]&&c.push(s[p])}c.length>0&&(a[i]=se(c))}return a}function ft(s,r,o){const a=[...s],i=s.length;for(let c=0;c<i;c++){if(!r[c])continue;const l=c>0?r[c-1]:!1,u=c<i-1?r[c+1]:!1;if(!l&&!u){const p=[];for(let f=Math.max(0,c-2);f<c;f++)r[f]||p.push(s[f]);for(let f=c+1;f<Math.min(i,c+3);f++)r[f]||p.push(s[f]);p.length>0&&(a[c]=se(p))}}return a}function ht(s,r,o){const a=r.map(c=>!c);return Ae(a,o).map(([c,l])=>[s+c,s+l])}function jt(s,r,o){if(s.length===0)return{segments:[],adaptiveK:2.5,controlLimits:{ucl:0,lcl:0}};const a=r.map((M,q)=>M-o[q]),i=[];for(const[M,q]of s)for(let O=M;O<=q;O++)i.push(a[O]);const c=se(i),l=ce(i),u=c+2*l,p=c-2*l,f=a.map(M=>M>u||M<p),V=pt(a,f),v=[];for(const[M,q]of s)for(let O=M;O<=q;O++)v.push(V[O]);const b=ut(v),g=dt(b),n=se(v),m=ce(v),j=n+g*m,h=n-g*m,x=[];for(const[M,q]of s){const O=V.slice(M,q+1),U=O.map(B=>B>j||B<h),T=ft(O,U).map(B=>B>j||B<h),_=ht(M,T,ps);x.push(..._)}return{segments:x,adaptiveK:g,controlLimits:{ucl:j,lcl:h,mean:n}}}function gt(s,r){const o=mt(r),a=jt(o,s,r);return{phase1Segments:o,phase2Segments:a.segments,adaptiveK:a.adaptiveK,controlLimits:a.controlLimits}}function qe(s){if(s==null||isNaN(s))return"N/A";if(s<=0)return"0m";const r=Math.floor(s/(1e3*60)),o=Math.floor(s/(1e3*60*60)),a=Math.floor(s/(1e3*60*60*24)),i=r%60,c=o%24,l=a;if(l>=1){const u=[];return u.push(`${l}d`),c>0&&u.push(`${c}h`),i>0&&u.push(`${i}m`),u.join(" ")}else return o>=1?i>0?`${o}h ${i}m`:`${o}h`:`${r}m`}function Nt(s,r){const o=os(s),a=os(r);return!o||!a?null:a.getTime()-o.getTime()}function os(s){if(!s&&s!==0)return null;if(s instanceof Date)return isNaN(s.getTime())?null:s;if(typeof s=="number"){const r=s<1e10?s*1e3:s,o=new Date(r);return isNaN(o.getTime())?null:o}if(typeof s=="string"){let r=new Date(s);if(!isNaN(r.getTime()))return r;const o=parseFloat(s);if(!isNaN(o)){const a=o<1e10?o*1e3:o;return r=new Date(a),isNaN(r.getTime())?null:r}}return null}function bt(s,r,o,a="timestamp"){var l,u;if(!s||s.length===0||r<0||o>=s.length)return null;const i=(l=s[r])==null?void 0:l[a],c=(u=s[o])==null?void 0:u[a];return Nt(i,c)}const fs=20;function Te(s){return s.length===0?0:s.reduce((r,o)=>r+o,0)/s.length}function xt(s){if(s.length<=1)return 0;const r=Te(s),o=s.reduce((a,i)=>a+Math.pow(i-r,2),0)/s.length;return Math.sqrt(o)}function Vt(s,r){const o=Object.keys(s);if(o.length===0)return[];const a=new Array(r).fill(!0);for(const i of o){const c=s[i],l=new Array(r).fill(!1);for(const[u,p]of c)for(let f=u;f<=p;f++)l[f]=!0;for(let u=0;u<r;u++)a[u]=a[u]&&l[u]}return Ae(a,fs)}function wt(s,r,o,a){const i=[];for(let c=0;c<s.length;c++){const[l,u]=s[c],p={segment:c+1,start:l,end:u,length:u-l+1,spValues:{},outputStats:{}};for(const f of r){const V=[];for(let v=l;v<=u;v++){const b=parseFloat(a[v][f.sp]);isNaN(b)||V.push(b)}p.spValues[f.baseName]=Te(V)}for(const f of o){const V=[];for(let g=l;g<=u;g++){const n=parseFloat(a[g][f]);isNaN(n)||V.push(n)}const v=Te(V),b=xt(V);p.outputStats[f]={mean:v,std:b,cv:v!==0?b/Math.abs(v):0}}i.push(p)}return i}function vt(s,r,o,a=.02){var u,p;const i=[],c=new Set;for(let f=0;f<s.length;f++){if(c.has(f))continue;const V=[f];for(let v=f+1;v<s.length;v++){if(c.has(v))continue;let b=!0;for(const g of r){const n=s[f].spValues[g.baseName],m=s[v].spValues[g.baseName];let j;if(n!==0?j=Math.abs(n-m)/Math.abs(n):j=Math.abs(n-m),j>a){b=!1;break}}if(b)for(const g of o){const n=((u=s[f].outputStats[g])==null?void 0:u.mean)||0,m=((p=s[v].outputStats[g])==null?void 0:p.mean)||0;let j;if(n!==0?j=Math.abs(n-m)/Math.abs(n):j=Math.abs(n-m),j>a){b=!1;break}}b&&(V.push(v),c.add(v))}i.push(V),c.add(f)}const l=i.map((f,V)=>{const v=s[f[0]];return{mode:V+1,mergedFrom:f.map(b=>s[b].segment),totalLength:f.reduce((b,g)=>b+s[g].length,0),segments:f.map(b=>({segment:s[b].segment,start:s[b].start,end:s[b].end,length:s[b].length})),spValues:{...v.spValues},outputStats:{...v.outputStats}}});return{groups:i,modes:l}}function Dt(s,r,o){if(s.length===0)return{};const a={};for(const c of r){const l=s.map(f=>{var V;return{mode:f.mode,value:((V=f.outputStats[c])==null?void 0:V.mean)||0}}).filter(f=>!isNaN(f.value));if(l.length===0)continue;const u=l.reduce((f,V)=>V.value>f.value?V:f,l[0]),p=l.reduce((f,V)=>V.value<f.value?V:f,l[0]);a[c]={maxMode:u.mode,maxValue:u.value,minMode:p.mode,minValue:p.value}}const i=o.map(c=>c.baseName);if(i.length>0){const c=s.map(u=>({mode:u.mode,value:i.reduce((p,f)=>p+(u.spValues[f]||0),0)})),l=c.reduce((u,p)=>p.value>u.value?p:u,c[0]);a.throughput={maxMode:l.mode,maxValue:l.value}}return a}function St(s,r,o,a){const i=s.length,c={},l={};for(const b of r){const g=s.map(h=>parseFloat(h[b.pv])),n=s.map(h=>parseFloat(h[b.sp])),m=[];for(let h=0;h<i;h++)!isNaN(g[h])&&!isNaN(n[h])&&m.push(h);if(m.length<fs){c[b.baseName]={phase1Segments:[],phase2Segments:[],adaptiveK:2.5,controlLimits:{ucl:0,lcl:0,mean:0}},l[b.baseName]=[];continue}const j=gt(g,n);c[b.baseName]=j,l[b.baseName]=j.phase2Segments}const u=Vt(l,i),p=wt(u,r,o,s),{groups:f,modes:V}=vt(p,r,o,a),v=Dt(V,o,r);return{variableAnalysis:c,commonSegments:u,segmentsData:p,modes:V,mergeGroups:f,insights:v,summary:{totalDataPoints:i,totalSegments:u.length,totalModes:V.length,inputVariables:r.length,outputVariables:o.length}}}function Pt(s,r,o,a,i=.02){if(!s||s.length===0)throw new Error("No data provided");if(!r||r.length===0)throw new Error("No SP/PV pairs selected");const c=r.map(n=>({pv:n.pvColumn,sp:n.spColumn,baseName:n.baseName})),l=St(s,c,o||[],i),u=[],p={},f={};for(const n of l.modes){let m=0;const j=[];for(const M of n.segments){const q=bt(s,M.start,M.end,"timestamp");j.push(q),m+=q||0,u.push({mode:n.mode,startIdx:M.start,endIdx:M.end,duration:M.length,durationMs:q})}const h=j.filter(M=>M!==null&&M>0),x=h.length>0?h.reduce((M,q)=>M+q,0)/h.length:null;p[n.mode]={totalDuration:n.totalLength,totalDurationMs:m,percentage:n.totalLength/s.length*100,occurrences:n.segments.length,avgDuration:n.totalLength/n.segments.length,avgDurationMs:x},f[n.mode]={setpointValues:n.spValues,outputStats:n.outputStats}}u.sort((n,m)=>n.startIdx-m.startIdx);let V=0;for(const n of u)V+=n.duration;const v=s.length-V,b={overallStability:V/s.length*100,stablePoints:V,transientPoints:v,byVariable:{}};for(const[n,m]of Object.entries(l.variableAnalysis)){let j=0;for(const[h,x]of m.phase2Segments)j+=x-h+1;b.byVariable[n]={stability:j/s.length*100,stablePoints:j,transientPoints:s.length-j}}const g={};for(const n of l.modes){g[n.mode]={};for(const[m,j]of Object.entries(n.outputStats))g[n.mode][m]={mean:j.mean,std:j.std,min:null,max:null}}for(const n of l.modes)for(const m of n.segments)for(const j of o||[]){g[n.mode][j]||(g[n.mode][j]={mean:0,std:0,min:1/0,max:-1/0});for(let h=m.start;h<=m.end;h++){const x=parseFloat(s[h][j]);isNaN(x)||((g[n.mode][j].min===null||x<g[n.mode][j].min)&&(g[n.mode][j].min=x),(g[n.mode][j].max===null||x>g[n.mode][j].max)&&(g[n.mode][j].max=x))}}return{modeSegments:u,modeStatistics:p,modeDetails:f,stabilityMetrics:b,outputStatsByMode:g,insights:l.insights,summary:l.summary}}function Mt({message:s="Loading..."}){return e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(us,{className:"w-12 h-12 text-primary mx-auto mb-4 spinner"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/LoadingScreen.jsx",lineNumber:7,columnNumber:9},this),e.jsxDEV("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"Automatic Mode Detection"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/LoadingScreen.jsx",lineNumber:8,columnNumber:9},this),e.jsxDEV("p",{className:"text-muted-foreground loading-pulse",children:s},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/LoadingScreen.jsx",lineNumber:9,columnNumber:9},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/LoadingScreen.jsx",lineNumber:6,columnNumber:7},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/LoadingScreen.jsx",lineNumber:5,columnNumber:5},this)}function kt(){const{previewData:s,columns:r,totalRows:o,showDataPreview:a,setShowDataPreview:i}=te(),[c,l]=y.useState(null),u=c||r.slice(0,8);return s.length===0?null:e.jsxDEV("div",{className:"card mb-4",children:[e.jsxDEV("button",{onClick:()=>i(!a),className:"w-full flex items-center justify-between text-left",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(ds,{className:"w-4 h-4 text-primary"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:23,columnNumber:11},this),e.jsxDEV("span",{className:"font-medium",children:"Data Preview"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:24,columnNumber:11},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:["(First 100 of ",o.toLocaleString()," rows)"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:25,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:22,columnNumber:9},this),a?e.jsxDEV(ge,{className:"w-4 h-4 text-muted-foreground"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:30,columnNumber:11},this):e.jsxDEV(Ue,{className:"w-4 h-4 text-muted-foreground"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:32,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:18,columnNumber:7},this),a&&e.jsxDEV("div",{className:"mt-4",children:[e.jsxDEV("div",{className:"mb-3 flex items-center gap-2 flex-wrap",children:[e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Columns:"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:40,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>l(r.slice(0,8)),className:`text-xs px-2 py-1 rounded ${u.length<=8?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:text-foreground"}`,children:"First 8"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:41,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>l(r),className:`text-xs px-2 py-1 rounded ${u.length===r.length?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:text-foreground"}`,children:["All (",r.length,")"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:49,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:39,columnNumber:11},this),e.jsxDEV("div",{className:"overflow-auto max-h-[400px] rounded border border-border",children:e.jsxDEV("table",{className:"data-table",children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"w-12",children:"#"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:64,columnNumber:19},this),u.map(p=>e.jsxDEV("th",{className:"whitespace-nowrap",children:p},p,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:66,columnNumber:21},this))]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:63,columnNumber:17},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:62,columnNumber:15},this),e.jsxDEV("tbody",{children:s.map((p,f)=>e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"text-muted-foreground text-xs",children:f+1},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:75,columnNumber:21},this),u.map(V=>e.jsxDEV("td",{className:"whitespace-nowrap",children:Et(p[V])},V,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:77,columnNumber:23},this))]},f,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:74,columnNumber:19},this))},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:72,columnNumber:15},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:61,columnNumber:13},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:60,columnNumber:11},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-2",children:["Showing 100 rows with ",u.length," of ",r.length," columns"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:87,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:37,columnNumber:9},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:17,columnNumber:5},this)}function Et(s){return s==null?e.jsxDEV("span",{className:"text-muted-foreground/50",children:"-"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/DataPreview.jsx",lineNumber:98,columnNumber:12},this):typeof s=="number"?Number.isInteger(s)?s:s.toFixed(4):String(s)}function yt(){const{spPvPairs:s,outputVariables:r,selectedSpPvPairs:o,selectedOutputVariables:a,toggleSpPvPair:i,toggleOutputVariable:c,selectAllSpPvPairs:l,deselectAllSpPvPairs:u,selectAllOutputVariables:p,deselectAllOutputVariables:f}=te(),[V,v]=y.useState(!0),[b,g]=y.useState(!0);return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"card bg-primary/10 border-primary/30",children:e.jsxDEV("div",{className:"flex items-start gap-2",children:[e.jsxDEV(Xs,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:27,columnNumber:11},this),e.jsxDEV("p",{className:"text-sm text-foreground",children:"Select the variables below to include in mode detection analysis. The algorithm will use these measurements to identify distinct operating regimes."},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:28,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:26,columnNumber:9},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:25,columnNumber:7},this),e.jsxDEV("div",{className:"card",children:[e.jsxDEV("button",{onClick:()=>v(!V),className:"w-full flex items-center justify-between text-left",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(Re,{className:"w-4 h-4 text-primary"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:42,columnNumber:13},this),e.jsxDEV("span",{className:"font-medium",children:"SP/PV Pairs"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:43,columnNumber:13},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:["(",o.length,"/",s.length," selected)"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:44,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:41,columnNumber:11},this),V?e.jsxDEV(ge,{className:"w-4 h-4 text-muted-foreground"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:49,columnNumber:13},this):e.jsxDEV(Ue,{className:"w-4 h-4 text-muted-foreground"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:51,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:37,columnNumber:9},this),V&&e.jsxDEV("div",{className:"mt-3",children:[e.jsxDEV("p",{className:"text-xs text-muted-foreground mb-2",children:"Setpoint/Process Variable pairs for controlled variables"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:57,columnNumber:13},this),e.jsxDEV("div",{className:"flex gap-2 mb-2",children:[e.jsxDEV("button",{onClick:l,className:"text-xs px-2 py-1 rounded bg-muted text-muted-foreground hover:text-foreground transition-colors",children:"Select All"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:63,columnNumber:15},this),e.jsxDEV("button",{onClick:u,className:"text-xs px-2 py-1 rounded bg-muted text-muted-foreground hover:text-foreground transition-colors",children:"Deselect All"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:69,columnNumber:15},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:62,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-1 max-h-64 overflow-y-auto",children:s.map(n=>e.jsxDEV("label",{className:"checkbox-item",children:[e.jsxDEV("input",{type:"checkbox",checked:o.includes(n.baseName),onChange:()=>i(n.baseName)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:80,columnNumber:19},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("span",{className:"text-sm font-medium",children:n.baseName},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:86,columnNumber:21},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground ml-2",children:["(",n.description,")"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:87,columnNumber:21},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:85,columnNumber:19},this)]},n.baseName,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:79,columnNumber:17},this))},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:77,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:56,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:36,columnNumber:7},this),e.jsxDEV("div",{className:"card",children:[e.jsxDEV("button",{onClick:()=>g(!b),className:"w-full flex items-center justify-between text-left",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(ms,{className:"w-4 h-4 text-primary"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:105,columnNumber:13},this),e.jsxDEV("span",{className:"font-medium",children:"Output Variables"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:106,columnNumber:13},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:["(",a.length,"/",r.length," selected)"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:107,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:104,columnNumber:11},this),b?e.jsxDEV(ge,{className:"w-4 h-4 text-muted-foreground"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:112,columnNumber:13},this):e.jsxDEV(Ue,{className:"w-4 h-4 text-muted-foreground"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:114,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:100,columnNumber:9},this),b&&e.jsxDEV("div",{className:"mt-3",children:[e.jsxDEV("p",{className:"text-xs text-muted-foreground mb-2",children:"Additional process measurements and KPIs"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:120,columnNumber:13},this),e.jsxDEV("div",{className:"flex gap-2 mb-2",children:[e.jsxDEV("button",{onClick:p,className:"text-xs px-2 py-1 rounded bg-muted text-muted-foreground hover:text-foreground transition-colors",children:"Select All"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:126,columnNumber:15},this),e.jsxDEV("button",{onClick:f,className:"text-xs px-2 py-1 rounded bg-muted text-muted-foreground hover:text-foreground transition-colors",children:"Deselect All"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:132,columnNumber:15},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:125,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-1 max-h-64 overflow-y-auto",children:r.map(n=>e.jsxDEV("label",{className:"checkbox-item",children:[e.jsxDEV("input",{type:"checkbox",checked:a.includes(n.name),onChange:()=>c(n.name)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:143,columnNumber:19},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("span",{className:"text-sm font-medium",children:n.name},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:149,columnNumber:21},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground ml-2",children:["(",n.description,")"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:150,columnNumber:21},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:148,columnNumber:19},this)]},n.name,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:142,columnNumber:17},this))},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:140,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:119,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:99,columnNumber:7},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ColumnSelector.jsx",lineNumber:23,columnNumber:5},this)}function It({onRunAnalysis:s}){var p;const{isAnalyzing:r,analysisResults:o,selectedSpPvPairs:a,selectedOutputVariables:i,clearAnalysisResults:c}=te(),l=a.length*2+i.length,u=l>=2&&!r;return e.jsxDEV("div",{className:"card",children:[e.jsxDEV("h3",{className:"font-medium mb-3",children:"Analysis Controls"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/AnalysisControls.jsx",lineNumber:18,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[e.jsxDEV("p",{children:[e.jsxDEV("span",{className:"text-foreground font-medium",children:a.length},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/AnalysisControls.jsx",lineNumber:24,columnNumber:13},this)," SP/PV pairs selected (",a.length*2," columns)"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/AnalysisControls.jsx",lineNumber:23,columnNumber:11},this),e.jsxDEV("p",{children:[e.jsxDEV("span",{className:"text-foreground font-medium",children:i.length},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/AnalysisControls.jsx",lineNumber:28,columnNumber:13},this)," output variables selected"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/AnalysisControls.jsx",lineNumber:27,columnNumber:11},this),e.jsxDEV("p",{className:"mt-1 pt-1 border-t border-border",children:["Total: ",e.jsxDEV("span",{className:"text-foreground font-medium",children:l},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/AnalysisControls.jsx",lineNumber:31,columnNumber:20},this)," columns for analysis"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/AnalysisControls.jsx",lineNumber:30,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/AnalysisControls.jsx",lineNumber:22,columnNumber:9},this),l<2&&e.jsxDEV("p",{className:"text-xs text-amber-500",children:"Select at least 2 columns to run analysis"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/AnalysisControls.jsx",lineNumber:37,columnNumber:11},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:s,disabled:!u,className:"btn-primary flex-1 flex items-center justify-center gap-2",children:r?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(us,{className:"w-4 h-4 spinner"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/AnalysisControls.jsx",lineNumber:51,columnNumber:17},this),"Analyzing..."]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/AnalysisControls.jsx",lineNumber:50,columnNumber:15},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(st,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/AnalysisControls.jsx",lineNumber:56,columnNumber:17},this),"Run Analysis"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/AnalysisControls.jsx",lineNumber:55,columnNumber:15},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/AnalysisControls.jsx",lineNumber:44,columnNumber:11},this),o&&e.jsxDEV("button",{onClick:c,className:"btn-secondary flex items-center gap-2",title:"Clear results",children:e.jsxDEV(tt,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/AnalysisControls.jsx",lineNumber:68,columnNumber:15},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/AnalysisControls.jsx",lineNumber:63,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/AnalysisControls.jsx",lineNumber:43,columnNumber:9},this),o&&e.jsxDEV("div",{className:"text-sm p-3 rounded bg-primary/10 border border-primary/30",children:[e.jsxDEV("p",{className:"text-primary font-medium",children:[Object.keys(o.modeStatistics||{}).length," operating modes detected"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/AnalysisControls.jsx",lineNumber:76,columnNumber:13},this),e.jsxDEV("p",{className:"text-muted-foreground text-xs mt-1",children:[(((p=o.modeSegments)==null?void 0:p.length)||1)-1," mode transitions identified"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/AnalysisControls.jsx",lineNumber:79,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/AnalysisControls.jsx",lineNumber:75,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/AnalysisControls.jsx",lineNumber:20,columnNumber:7},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/AnalysisControls.jsx",lineNumber:17,columnNumber:5},this)}const Oe=[{r:167,g:139,b:250},{r:103,g:232,b:249},{r:134,g:239,b:172},{r:252,g:211,b:77},{r:196,g:181,b:253},{r:165,g:243,b:252},{r:190,g:242,b:100},{r:253,g:230,b:138}],rs=Oe.map(s=>`rgba(${s.r}, ${s.g}, ${s.b}, 0.25)`),as=Oe.map(s=>`rgba(${s.r}, ${s.g}, ${s.b}, 0.7)`),is=Oe.map(s=>`rgb(${s.r}, ${s.g}, ${s.b})`);function _e(s){const o=[...Array.isArray(s)?s:Object.keys(s)].sort((i,c)=>{const l=parseInt(i,10),u=parseInt(c,10);return!isNaN(l)&&!isNaN(u)?l-u:String(i).localeCompare(String(c))}),a={};return o.forEach((i,c)=>{a[i]={fill:rs[c%rs.length],solid:is[c%is.length],timeline:as[c%as.length]}}),a}const cs=["#6b8cae","#7a9b76","#a08060","#8b7aa0","#6a9a9a","#9a8070","#7090a0","#908078"],ns=["#5a8a8a","#7a7090","#9a8a60","#6a8a70","#8a6a70","#606a8a","#7a9060","#8a7a60"],he=s=>{const o=getComputedStyle(document.documentElement).getPropertyValue(s).trim();return o?`hsl(${o})`:"#333"};function Ct(){const[s,r]=y.useState(!0),[o,a]=y.useState(new Set),[i,c]=y.useState(new Set),{rawData:l,analysisResults:u,spPvPairs:p,selectedSpPvPairs:f,outputVariables:V,selectedOutputVariables:v}=te(),b=y.useMemo(()=>p.filter(w=>f.includes(w.baseName)),[p,f]),g=y.useMemo(()=>V.filter(w=>v.includes(w.name)).map(w=>w.name),[V,v]);y.useEffect(()=>{if(b.length>0&&o.size===0){const w=new Set(b.slice(0,Math.min(2,b.length)).map(S=>S.baseName));a(w)}},[b]),y.useEffect(()=>{if(g.length>0){const w=new Set([...i].filter(S=>g.includes(S)));if(w.size===0){const S=new Set(g.slice(0,Math.min(2,g.length)));c(S)}else w.size!==i.size&&c(w)}else c(new Set)},[g]);const n=w=>{a(S=>{const P=new Set(S);return P.has(w)?P.delete(w):P.add(w),P})},m=w=>{c(S=>{const P=new Set(S);return P.has(w)?P.delete(w):P.add(w),P})},j=w=>{const S=g.indexOf(w);return ns[S%ns.length]},h=y.useMemo(()=>l.length===0?[]:l.map((w,S)=>{const P={index:S,timestamp:w.timestamp||S};return b.forEach(L=>{const R=parseFloat(w[L.spColumn]),J=parseFloat(w[L.pvColumn]);P[`${L.baseName}_SP`]=isNaN(R)?null:R,P[`${L.baseName}_PV`]=isNaN(J)?null:J}),g.forEach(L=>{const R=parseFloat(w[L]);P[L]=isNaN(R)?null:R}),P}),[l,b,g]),x=y.useMemo(()=>u!=null&&u.modeSegments?u.modeSegments:[],[u]),M=y.useMemo(()=>{if(!x.length)return{};const w=[...new Set(x.map(L=>L.mode))],S=_e(w),P={};return Object.entries(S).forEach(([L,R])=>{P[L]={fill:R.fill,border:R.solid}}),P},[x]),q=w=>{const S=b.findIndex(P=>P.baseName===w);return cs[S%cs.length]},O=(w="y")=>!s||!x.length?[]:x.map(S=>{var R;const P=h.find(J=>J.index>=S.startIdx),L=h.find(J=>J.index>=S.endIdx)||h[h.length-1];return!P||!L?null:{type:"rect",xref:"x",yref:w,x0:P.timestamp,x1:L.timestamp,y0:0,y1:1,yanchor:"bottom",ysizemode:"scaled",fillcolor:((R=M[S.mode])==null?void 0:R.fill)||"rgba(128,128,128,0.2)",line:{width:0},layer:"below"}}).filter(Boolean),U=y.useMemo(()=>{const w=[],S=b.filter(P=>o.has(P.baseName));return S.forEach(P=>{const L=q(P.baseName);w.push({x:h.map(R=>R.timestamp),y:h.map(R=>R[`${P.baseName}_SP`]),type:"scatter",mode:"lines",name:`${P.baseName} SP`,line:{color:L,width:2,dash:"8px,4px",shape:"hv"},hovertemplate:`%{x}<br>${P.baseName} SP: %{y:.2f}<extra></extra>`,showlegend:!1}),w.push({x:h.map(R=>R.timestamp),y:h.map(R=>R[`${P.baseName}_PV`]),type:"scatter",mode:"lines",name:`${P.baseName} PV`,line:{color:L,width:2},hovertemplate:`%{x}<br>${P.baseName} PV: %{y:.2f}<extra></extra>`,showlegend:!1})}),S.length>0&&(w.push({x:[null],y:[null],type:"scatter",mode:"lines",name:"SP (setpoint)",line:{color:"#888888",width:2,dash:"8px,4px"},showlegend:!0}),w.push({x:[null],y:[null],type:"scatter",mode:"lines",name:"PV (process)",line:{color:"#888888",width:2},showlegend:!0})),w},[h,b,o]),Y=y.useMemo(()=>g.filter(S=>i.has(S)).map(S=>({x:h.map(P=>P.timestamp),y:h.map(P=>P[S]),type:"scatter",mode:"lines",name:S,line:{color:j(S),width:2},hovertemplate:`%{x}<br>${S}: %{y:.2f}<extra></extra>`,showlegend:!1})),[h,g,i]),T=he("--border"),_=he("--foreground"),B=he("--muted-foreground"),X=he("--primary"),Z={paper_bgcolor:"transparent",plot_bgcolor:"transparent",font:{family:"inherit",color:_},margin:{l:60,r:20,t:30,b:50},hovermode:"closest",dragmode:"zoom",xaxis:{gridcolor:T,gridwidth:1,linecolor:T,linewidth:1,showline:!0,tickfont:{size:10,color:B},showgrid:!0,zeroline:!1},yaxis:{gridcolor:T,gridwidth:1,linecolor:T,linewidth:1,showline:!0,tickfont:{size:10,color:B},showgrid:!0,zeroline:!1,autorange:!0},legend:{orientation:"h",yanchor:"bottom",y:1.02,xanchor:"left",x:0,font:{size:9},bgcolor:"transparent",itemsizing:"constant",itemwidth:50,traceorder:"normal"},modebar:{bgcolor:"transparent",color:B,activecolor:X}},z={responsive:!0,displaylogo:!1,modeBarButtonsToRemove:["lasso2d","select2d","autoScale2d"],modeBarButtonsToAdd:[],scrollZoom:!0},G=()=>{document.querySelectorAll(".js-plotly-plot").forEach(S=>{window.Plotly&&window.Plotly.relayout(S,{"xaxis.autorange":!0,"yaxis.autorange":!0})})};if(h.length===0)return e.jsxDEV("div",{className:"bg-card rounded-xl border border-border p-8 text-center",children:e.jsxDEV("p",{className:"text-muted-foreground",children:"Upload data and select variables to view time series"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:387,columnNumber:9},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:386,columnNumber:7},this);const Q=b.length>0,ne=g.length>0,le=Object.keys(M).length>0;return e.jsxDEV("div",{className:"bg-card rounded-xl border border-border p-4 space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("h3",{className:"font-semibold",children:"Time Series"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:402,columnNumber:11},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Drag to box-zoom (X+Y) | Scroll to zoom | Double-click to reset"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:403,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:401,columnNumber:9},this),e.jsxDEV("div",{className:"flex items-center gap-1 flex-wrap",children:[le&&e.jsxDEV("button",{onClick:()=>r(!s),className:`p-2 rounded-lg transition-colors flex items-center gap-1 text-sm ${s?"bg-primary/20 text-primary":"hover:bg-secondary"}`,title:s?"Hide mode overlay":"Show mode overlay",children:[s?e.jsxDEV(Gs,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:417,columnNumber:34},this):e.jsxDEV(Ks,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:417,columnNumber:64},this),e.jsxDEV("span",{className:"hidden sm:inline",children:"Modes"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:418,columnNumber:15},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:410,columnNumber:13},this),e.jsxDEV("button",{onClick:G,className:"p-2 rounded-lg transition-colors hover:bg-secondary",title:"Reset zoom (show all)",children:e.jsxDEV(Zs,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:428,columnNumber:13},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:423,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:407,columnNumber:9},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:400,columnNumber:7},this),Q&&e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground mb-2",children:"Setpoints & Process Values"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:436,columnNumber:11},this),e.jsxDEV("div",{className:"flex flex-wrap items-center gap-3 mb-3 pb-2 border-b border-border/50",children:b.map(w=>{const S=q(w.baseName),P=o.has(w.baseName);return e.jsxDEV("label",{className:"flex items-center gap-1.5 cursor-pointer select-none",children:[e.jsxDEV("input",{type:"checkbox",checked:P,onChange:()=>n(w.baseName),className:"w-3.5 h-3.5 rounded border-2 cursor-pointer accent-current",style:{accentColor:S}},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:450,columnNumber:19},this),e.jsxDEV("span",{className:"text-sm font-medium",style:{color:P?S:"#666666"},children:w.baseName},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:457,columnNumber:19},this)]},w.baseName,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:446,columnNumber:17},this)})},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:441,columnNumber:11},this),e.jsxDEV(je,{data:U,layout:{...Z,height:320,shapes:O("y")},config:z,style:{width:"100%"},useResizeHandler:!0},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:468,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:435,columnNumber:9},this),ne&&e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground mb-2",children:"Output Variables"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:485,columnNumber:11},this),e.jsxDEV("div",{className:"flex flex-wrap items-center gap-3 mb-3 pb-2 border-b border-border/50",children:g.map(w=>{const S=j(w),P=i.has(w);return e.jsxDEV("label",{className:"flex items-center gap-1.5 cursor-pointer select-none",children:[e.jsxDEV("input",{type:"checkbox",checked:P,onChange:()=>m(w),className:"w-3.5 h-3.5 rounded border-2 cursor-pointer accent-current",style:{accentColor:S}},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:499,columnNumber:19},this),e.jsxDEV("span",{className:"text-sm font-medium",style:{color:P?S:"#666666"},children:w},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:506,columnNumber:19},this)]},w,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:495,columnNumber:17},this)})},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:490,columnNumber:11},this),e.jsxDEV(je,{data:Y,layout:{...Z,height:260,shapes:O("y"),showlegend:!1},config:z,style:{width:"100%"},useResizeHandler:!0},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:517,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:484,columnNumber:9},this),Object.keys(M).length>0&&e.jsxDEV("div",{className:"flex flex-wrap items-center gap-3 pt-3 border-t border-border",children:[e.jsxDEV("span",{className:"text-xs text-muted-foreground font-medium",children:"Modes:"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:535,columnNumber:11},this),Object.entries(M).map(([w,S])=>e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:S.border}},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:538,columnNumber:15},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:["Mode ",w]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:542,columnNumber:15},this)]},w,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:537,columnNumber:13},this))]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:534,columnNumber:9},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/TimeSeriesChart.jsx",lineNumber:399,columnNumber:5},this)}function Ut(){var v,b,g,n;const{analysisResults:s,rawData:r}=te(),o=y.useMemo(()=>s!=null&&s.modeStatistics?_e(s.modeStatistics):{},[s]);y.useMemo(()=>s!=null&&s.modeSegments?s.modeSegments.map((m,j)=>{var h;return{id:j,mode:m.mode,start:m.startIdx,end:m.endIdx,duration:m.endIdx-m.startIdx+1,color:((h=o[m.mode])==null?void 0:h.timeline)||"#888"}}):[],[s,o]);const a=y.useMemo(()=>s!=null&&s.modeStatistics?Object.entries(s.modeStatistics).map(([m,j])=>{var h,x;return{mode:`Mode ${m}`,modeId:m,totalDuration:j.totalDuration,totalDurationMs:j.totalDurationMs,totalDurationFormatted:qe(j.totalDurationMs),percentage:j.percentage,occurrences:j.occurrences,avgDuration:j.avgDuration,avgDurationMs:j.avgDurationMs,color:((h=o[m])==null?void 0:h.timeline)||"#888",solidColor:((x=o[m])==null?void 0:x.solid)||"#888"}}).sort((m,j)=>j.percentage-m.percentage):[],[s,o]),i=y.useMemo(()=>s!=null&&s.modeDetails?Object.entries(s.modeDetails).map(([m,j])=>{var h;return{mode:`Mode ${m}`,modeId:m,setpoints:j.setpointValues,color:((h=o[m])==null?void 0:h.solid)||"#888"}}):[],[s,o]),c=y.useMemo(()=>a.length===0?null:{type:"pie",values:a.map(m=>m.percentage),labels:a.map(m=>m.mode),marker:{colors:a.map(m=>m.color),line:{color:"rgba(255,255,255,0.3)",width:1}},textinfo:"label+percent",textposition:"outside",hovertemplate:"%{label}: %{percent}<extra></extra>",textfont:{size:11,color:"#e5e5e5"},outsidetextfont:{size:11,color:"#e5e5e5"}},[a]),l=y.useMemo(()=>{if(a.length===0)return null;const m=a.map(j=>(j.totalDurationMs||0)/(1e3*60*60));return{type:"bar",y:a.map(j=>j.mode),x:m,orientation:"h",marker:{color:a.map(j=>j.color)},text:a.map(j=>j.totalDurationFormatted),hovertemplate:"%{y}: %{text}<extra></extra>"}},[a]),u={paper_bgcolor:"transparent",plot_bgcolor:"transparent",font:{family:"inherit",color:"#e5e5e5",size:11},margin:{l:80,r:20,t:20,b:40},showlegend:!1},p={responsive:!0,displaylogo:!1,modeBarButtonsToRemove:["lasso2d","select2d","autoScale2d","zoom2d","pan2d","zoomIn2d","zoomOut2d","resetScale2d"]};if(!s)return e.jsxDEV("div",{className:"bg-card rounded-xl border border-border p-8 text-center",children:e.jsxDEV("p",{className:"text-muted-foreground",children:"Run analysis to view mode timeline"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:128,columnNumber:9},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:127,columnNumber:7},this);const f=Object.keys(s.modeStatistics||{}).length,V=(((v=s.modeSegments)==null?void 0:v.length)||1)-1;return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxDEV("div",{className:"bg-card rounded-xl border border-border p-4",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[e.jsxDEV(Qs,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:144,columnNumber:13},this),e.jsxDEV("span",{className:"text-sm",children:"Modes Detected"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:145,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:143,columnNumber:11},this),e.jsxDEV("p",{className:"text-2xl font-bold",children:f},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:147,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:142,columnNumber:9},this),e.jsxDEV("div",{className:"bg-card rounded-xl border border-border p-4",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[e.jsxDEV(Ys,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:151,columnNumber:13},this),e.jsxDEV("span",{className:"text-sm",children:"Transitions"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:152,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:150,columnNumber:11},this),e.jsxDEV("p",{className:"text-2xl font-bold",children:V},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:154,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:149,columnNumber:9},this),e.jsxDEV("div",{className:"bg-card rounded-xl border border-border p-4",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:e.jsxDEV("span",{className:"text-sm",children:"Stability"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:158,columnNumber:13},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:157,columnNumber:11},this),e.jsxDEV("p",{className:"text-2xl font-bold",children:[((g=(b=s.stabilityMetrics)==null?void 0:b.overallStability)==null?void 0:g.toFixed(1))||"N/A","%"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:160,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:156,columnNumber:9},this),e.jsxDEV("div",{className:"bg-card rounded-xl border border-border p-4",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:e.jsxDEV("span",{className:"text-sm",children:"Data Points"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:166,columnNumber:13},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:165,columnNumber:11},this),e.jsxDEV("p",{className:"text-2xl font-bold",children:r.length.toLocaleString()},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:168,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:164,columnNumber:9},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:141,columnNumber:7},this),e.jsxDEV("div",{className:"bg-card rounded-xl border border-border p-4",children:[e.jsxDEV("h3",{className:"font-semibold mb-4",children:["Mode Timeline (",a.length," modes)"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:174,columnNumber:9},this),e.jsxDEV("div",{className:"h-32 overflow-visible",children:e.jsxDEV("div",{className:"min-w-full h-full flex items-center gap-0.5",children:a.map((m,j)=>{const h=m.percentage,x=Math.max(h-.1,.3);return e.jsxDEV("div",{className:"h-12 flex items-center justify-center text-xs font-bold text-white relative group rounded-sm",style:{width:`${x}%`,backgroundColor:m.color,minWidth:"20px"},title:`Mode ${m.modeId}: ${m.totalDurationFormatted} (${m.percentage.toFixed(1)}%)`,children:[e.jsxDEV("span",{className:h<3?"text-[10px]":"",children:["M",m.modeId]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:195,columnNumber:19},this),e.jsxDEV("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-3 px-3 py-2 bg-gray-900 text-white text-xs rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity z-50 pointer-events-none border border-gray-700 whitespace-nowrap",children:[e.jsxDEV("div",{className:"font-semibold mb-1",children:["Mode ",m.modeId]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:200,columnNumber:21},this),e.jsxDEV("div",{children:["Mode Duration: ",m.totalDurationFormatted]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:201,columnNumber:21},this),e.jsxDEV("div",{children:["Occurrences: ",m.occurrences]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:202,columnNumber:21},this),e.jsxDEV("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:204,columnNumber:21},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:199,columnNumber:19},this)]},j,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:184,columnNumber:17},this)})},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:178,columnNumber:11},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:177,columnNumber:9},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:173,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxDEV("div",{className:"bg-card rounded-xl border border-border p-4",children:[e.jsxDEV("h3",{className:"font-semibold mb-4",children:"Mode Distribution"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:216,columnNumber:11},this),e.jsxDEV("div",{className:"h-64",children:c&&e.jsxDEV(je,{data:[c],layout:{...u,height:250,margin:{l:20,r:20,t:20,b:20}},config:p,style:{width:"100%",height:"100%"},useResizeHandler:!0},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:219,columnNumber:15},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:217,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:215,columnNumber:9},this),e.jsxDEV("div",{className:"bg-card rounded-xl border border-border p-4",children:[e.jsxDEV("h3",{className:"font-semibold mb-4",children:"Mode Duration"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:236,columnNumber:11},this),e.jsxDEV("div",{className:"h-64",children:l&&e.jsxDEV(je,{data:[l],layout:{...u,height:250,xaxis:{title:{text:"Hours",font:{size:11,color:"#a3a3a3"}},gridcolor:"rgba(255,255,255,0.15)",linecolor:"rgba(255,255,255,0.15)",tickfont:{size:10,color:"#e5e5e5"},zerolinecolor:"rgba(255,255,255,0.15)"},yaxis:{gridcolor:"rgba(255,255,255,0.15)",linecolor:"rgba(255,255,255,0.15)",tickfont:{size:10,color:"#e5e5e5"},automargin:!0,zerolinecolor:"rgba(255,255,255,0.15)"}},config:p,style:{width:"100%",height:"100%"},useResizeHandler:!0},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:239,columnNumber:15},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:237,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:235,columnNumber:9},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:213,columnNumber:7},this),i.length>0&&e.jsxDEV("div",{className:"bg-card rounded-xl border border-border p-4",children:[e.jsxDEV("h3",{className:"font-semibold mb-4",children:"Setpoint Values by Mode"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:271,columnNumber:11},this),e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"results-table",children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{children:"Mode"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:276,columnNumber:19},this),Object.keys(((n=i[0])==null?void 0:n.setpoints)||{}).map(m=>e.jsxDEV("th",{children:m},m,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:278,columnNumber:21},this)),e.jsxDEV("th",{children:"Occurrences"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:280,columnNumber:19},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:275,columnNumber:17},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:274,columnNumber:15},this),e.jsxDEV("tbody",{children:i.map((m,j)=>{const h=a.find(x=>x.modeId===m.modeId);return e.jsxDEV("tr",{children:[e.jsxDEV("td",{children:[e.jsxDEV("span",{className:"inline-block w-3 h-3 rounded-full mr-2",style:{backgroundColor:m.color}},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:289,columnNumber:25},this),m.mode]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:288,columnNumber:23},this),Object.values(m.setpoints).map((x,M)=>e.jsxDEV("td",{children:typeof x=="number"?x.toFixed(2):x},M,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:296,columnNumber:25},this)),e.jsxDEV("td",{children:(h==null?void 0:h.occurrences)||0},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:300,columnNumber:23},this)]},j,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:287,columnNumber:21},this)})},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:283,columnNumber:15},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:273,columnNumber:13},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:272,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:270,columnNumber:9},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ModeTimelineChart.jsx",lineNumber:139,columnNumber:5},this)}function qt(){var V,v,b,g;const[s,r]=y.useState(!0),{analysisResults:o,rawData:a}=te(),i=y.useMemo(()=>o!=null&&o.modeStatistics?_e(o.modeStatistics):{},[o]),c=y.useMemo(()=>o!=null&&o.stabilityMetrics?o.stabilityMetrics:null,[o]),l=y.useMemo(()=>o!=null&&o.outputStatsByMode?Object.entries(o.outputStatsByMode).map(([n,m])=>({mode:n,...m})):[],[o]),u=()=>{if(!o)return;const n=o.modeSegments.map((h,x)=>({segment_id:x+1,mode:h.mode,start_index:h.startIdx,end_index:h.endIdx,duration:h.endIdx-h.startIdx+1})),j=[Object.keys(n[0]||{}).join(","),...n.map(h=>Object.values(h).join(","))].join(`
`);f(j,"analysis_modes.csv","text/csv")},p=()=>{if(!o)return;const n={metadata:{analysisDate:new Date().toISOString(),dataPoints:a.length,modesDetected:Object.keys(o.modeStatistics||{}).length},modeStatistics:o.modeStatistics,modeDetails:o.modeDetails,stabilityMetrics:o.stabilityMetrics,segments:o.modeSegments,outputStatsByMode:o.outputStatsByMode};f(JSON.stringify(n,null,2),"analysis_results.json","application/json")},f=(n,m,j)=>{const h=new Blob([n],{type:j}),x=URL.createObjectURL(h),M=document.createElement("a");M.href=x,M.download=m,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(x)};return o?e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"bg-card rounded-xl border border-border p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("h3",{className:"font-semibold",children:"Export Results"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:108,columnNumber:11},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:u,className:"flex items-center gap-2 px-3 py-2 bg-secondary hover:bg-secondary/80 rounded-lg transition-colors text-sm",children:[e.jsxDEV(ds,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:114,columnNumber:15},this),"CSV"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:110,columnNumber:13},this),e.jsxDEV("button",{onClick:p,className:"flex items-center gap-2 px-3 py-2 bg-secondary hover:bg-secondary/80 rounded-lg transition-colors text-sm",children:[e.jsxDEV(Js,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:121,columnNumber:15},this),"JSON"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:117,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:109,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:107,columnNumber:9},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:106,columnNumber:7},this),c&&e.jsxDEV("div",{className:"bg-card rounded-xl border border-border p-4",children:[e.jsxDEV("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsxDEV(Re,{className:"w-4 h-4 text-primary"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:132,columnNumber:13},this),"Stability Analysis"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:131,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxDEV("div",{className:"p-3 bg-secondary/50 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Overall Stability"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:138,columnNumber:15},this),e.jsxDEV("p",{className:"text-xl font-bold",children:[(V=c.overallStability)==null?void 0:V.toFixed(1),"%"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:139,columnNumber:15},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:137,columnNumber:13},this),e.jsxDEV("div",{className:"p-3 bg-secondary/50 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Stable Points"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:144,columnNumber:15},this),e.jsxDEV("p",{className:"text-xl font-bold",children:((v=c.stablePoints)==null?void 0:v.toLocaleString())||0},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:145,columnNumber:15},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:143,columnNumber:13},this),e.jsxDEV("div",{className:"p-3 bg-secondary/50 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Transient Points"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:150,columnNumber:15},this),e.jsxDEV("p",{className:"text-xl font-bold",children:((b=c.transientPoints)==null?void 0:b.toLocaleString())||0},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:151,columnNumber:15},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:149,columnNumber:13},this),e.jsxDEV("div",{className:"p-3 bg-secondary/50 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Mode Transitions"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:156,columnNumber:15},this),e.jsxDEV("p",{className:"text-xl font-bold",children:(((g=o.modeSegments)==null?void 0:g.length)||1)-1},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:157,columnNumber:15},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:155,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:136,columnNumber:11},this),c.byVariable&&Object.keys(c.byVariable).length>0&&e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"results-table text-sm",children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{children:"Variable"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:169,columnNumber:21},this),e.jsxDEV("th",{children:"Stability %"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:170,columnNumber:21},this),e.jsxDEV("th",{children:"Stable Points"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:171,columnNumber:21},this),e.jsxDEV("th",{children:"Transient Points"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:172,columnNumber:21},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:168,columnNumber:19},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:167,columnNumber:17},this),e.jsxDEV("tbody",{children:Object.entries(c.byVariable).map(([n,m])=>e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"font-medium",children:n},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:178,columnNumber:23},this),e.jsxDEV("td",{children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"w-20 h-2 bg-secondary rounded-full overflow-hidden",children:e.jsxDEV("div",{className:"h-full bg-primary transition-all",style:{width:`${m.stability}%`}},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:182,columnNumber:29},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:181,columnNumber:27},this),e.jsxDEV("span",{children:[m.stability.toFixed(1),"%"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:187,columnNumber:27},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:180,columnNumber:25},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:179,columnNumber:23},this),e.jsxDEV("td",{children:m.stablePoints.toLocaleString()},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:190,columnNumber:23},this),e.jsxDEV("td",{children:m.transientPoints.toLocaleString()},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:191,columnNumber:23},this)]},n,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:177,columnNumber:21},this))},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:175,columnNumber:17},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:166,columnNumber:15},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:165,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:130,columnNumber:9},this),l.length>0&&e.jsxDEV("div",{className:"bg-card rounded-xl border border-border overflow-hidden",children:[e.jsxDEV("button",{onClick:()=>r(!s),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-secondary/50 transition-colors",children:[e.jsxDEV("span",{className:"font-semibold flex items-center gap-2",children:[e.jsxDEV(rt,{className:"w-4 h-4 text-orange-500"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:209,columnNumber:15},this),"Output Statistics by Mode"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:208,columnNumber:13},this),s?e.jsxDEV(Bs,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:213,columnNumber:15},this):e.jsxDEV(ge,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:215,columnNumber:15},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:204,columnNumber:11},this),s&&e.jsxDEV("div",{className:"p-4 overflow-x-auto",children:e.jsxDEV("table",{className:"results-table text-sm",children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{children:"Mode"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:224,columnNumber:21},this),e.jsxDEV("th",{children:"Variable"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:225,columnNumber:21},this),e.jsxDEV("th",{children:"Mean"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:226,columnNumber:21},this),e.jsxDEV("th",{children:"Std Dev"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:227,columnNumber:21},this),e.jsxDEV("th",{children:"Min"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:228,columnNumber:21},this),e.jsxDEV("th",{children:"Max"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:229,columnNumber:21},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:223,columnNumber:19},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:222,columnNumber:17},this),e.jsxDEV("tbody",{children:l.map((n,m)=>Object.entries(n).filter(([j])=>j!=="mode").map(([j,h],x)=>{var M,q,O,U,Y;return e.jsxDEV("tr",{children:[x===0&&e.jsxDEV("td",{rowSpan:Object.keys(n).length-1,className:"font-medium align-top",children:e.jsxDEV("span",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"w-3 h-3 rounded-sm inline-block",style:{backgroundColor:((M=i[n.mode])==null?void 0:M.solid)||"#888"}},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:244,columnNumber:33},this),"Mode ",n.mode]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:243,columnNumber:31},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:239,columnNumber:29},this),e.jsxDEV("td",{children:j},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:252,columnNumber:27},this),e.jsxDEV("td",{children:((q=h.mean)==null?void 0:q.toFixed(3))||"N/A"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:253,columnNumber:27},this),e.jsxDEV("td",{children:((O=h.std)==null?void 0:O.toFixed(3))||"N/A"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:254,columnNumber:27},this),e.jsxDEV("td",{children:((U=h.min)==null?void 0:U.toFixed(3))||"N/A"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:255,columnNumber:27},this),e.jsxDEV("td",{children:((Y=h.max)==null?void 0:Y.toFixed(3))||"N/A"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:256,columnNumber:27},this)]},`${n.mode}-${j}`,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:237,columnNumber:25},this)}))},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:232,columnNumber:17},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:221,columnNumber:15},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:220,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:203,columnNumber:9},this),e.jsxDEV("div",{className:"bg-card rounded-xl border border-border p-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:e.jsxDEV("h3",{className:"font-semibold",children:["Final Merged Modes",e.jsxDEV("span",{className:"text-sm font-normal text-muted-foreground ml-2",children:["(",Object.keys(o.modeStatistics||{}).length," modes)"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:272,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:270,columnNumber:11},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:269,columnNumber:9},this),e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"results-table text-sm",children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{children:"Mode"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:282,columnNumber:17},this),e.jsxDEV("th",{children:"Total Duration"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:283,columnNumber:17},this),e.jsxDEV("th",{children:"Percentage"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:284,columnNumber:17},this),e.jsxDEV("th",{children:"Occurrences"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:285,columnNumber:17},this),e.jsxDEV("th",{children:"Avg Duration"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:286,columnNumber:17},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:281,columnNumber:15},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:280,columnNumber:13},this),e.jsxDEV("tbody",{children:Object.entries(o.modeStatistics||{}).sort((n,m)=>m[1].percentage-n[1].percentage).map(([n,m])=>{var h,x;const j=((h=i[n])==null?void 0:h.solid)||"#888";return e.jsxDEV("tr",{children:[e.jsxDEV("td",{children:e.jsxDEV("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium inline-flex items-center gap-1.5",style:{backgroundColor:`${j}20`,color:j},children:[e.jsxDEV("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:j}},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:305,columnNumber:27},this),"Mode ",n]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:298,columnNumber:25},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:297,columnNumber:23},this),e.jsxDEV("td",{children:qe(m.totalDurationMs)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:312,columnNumber:23},this),e.jsxDEV("td",{children:[((x=m.percentage)==null?void 0:x.toFixed(1))||"N/A","%"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:313,columnNumber:23},this),e.jsxDEV("td",{children:m.occurrences},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:314,columnNumber:23},this),e.jsxDEV("td",{children:qe(m.avgDurationMs)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:315,columnNumber:23},this)]},n,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:296,columnNumber:21},this)})},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:289,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:279,columnNumber:11},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:278,columnNumber:9},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:268,columnNumber:7},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:104,columnNumber:5},this):e.jsxDEV("div",{className:"bg-card rounded-xl border border-border p-8 text-center",children:e.jsxDEV("p",{className:"text-muted-foreground",children:"Run analysis to view detailed results"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:96,columnNumber:9},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/components/ResultsPanel.jsx",lineNumber:95,columnNumber:7},this)}class Tt extends y.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,o){console.error("Application Error:",r,o)}render(){var r;return this.state.hasError?e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:e.jsxDEV("div",{className:"card max-w-lg text-center",children:[e.jsxDEV("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-red-500/20 flex items-center justify-center",children:e.jsxDEV("span",{className:"text-red-500 text-2xl",children:"!"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:35,columnNumber:15},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:34,columnNumber:13},this),e.jsxDEV("h2",{className:"text-xl font-bold text-foreground mb-2",children:"Something went wrong"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:37,columnNumber:13},this),e.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"An unexpected error occurred."},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:38,columnNumber:13},this),e.jsxDEV("pre",{className:"text-left bg-black/30 rounded p-3 mb-4 text-xs text-red-400 overflow-auto max-h-32",children:((r=this.state.error)==null?void 0:r.message)||"Unknown error"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:39,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"Reload Application"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:42,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:33,columnNumber:11},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:32,columnNumber:9},this):this.props.children}}function Rt(){const{isLoading:s,loadingMessage:r,error:o,rawData:a,setLoading:i,setError:c,setData:l,setColumns:u,setSpPvPairs:p,setOutputVariables:f,setAnalyzing:V,setAnalysisResults:v,spPvPairs:b,selectedSpPvPairs:g,outputVariables:n,selectedOutputVariables:m,tolerance:j,activeTab:h,setActiveTab:x}=te(),M=[{id:"timeseries",label:"Time Series",icon:et},{id:"modes",label:"Modes",icon:ms},{id:"results",label:"Results",icon:ot}];y.useEffect(()=>{async function U(){var Y,T;try{console.log("[App] Starting initialization..."),i(!0,"Loading data file...");const _=await at();if(console.log("[App] Data loaded, rows:",(Y=_==null?void 0:_.data)==null?void 0:Y.length,"columns:",(T=_==null?void 0:_.columns)==null?void 0:T.length),!_||!_.data||_.data.length===0)throw new Error("No data returned from file loader");const{data:B,columns:X}=_;i(!0,"Discovering columns..."),u(X),console.log("[App] Columns set:",X.length);const{spPvPairs:Z,outputVariables:z}=ct(X);console.log("[App] Discovered SP/PV pairs:",Z.length,"output vars:",z.length),p(Z),f(z),l(B),console.log("[App] Initialization complete, data set")}catch(_){console.error("[App] Initialization error:",_),c(_.message||"Failed to load data")}}U()},[i,c,l,u,p,f]);const q=y.useCallback(async()=>{const U=b.filter(T=>g.includes(T.baseName)),Y=n.filter(T=>m.includes(T.name)).map(T=>T.name);if(U.length===0){c("Please select at least one SP/PV pair");return}V(!0),setTimeout(()=>{try{const T=Pt(a,U,Y,null,j);v(T)}catch(T){console.error("Analysis error:",T),c("Analysis failed: "+T.message)}},50)},[a,b,g,n,m,j,V,v,c]),O=b.filter(U=>g.includes(U.baseName)).flatMap(U=>[U.spColumn,U.pvColumn]);return s?e.jsxDEV(Mt,{message:r},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:164,columnNumber:12},this):o?e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:e.jsxDEV("div",{className:"card max-w-lg text-center",children:[e.jsxDEV("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-red-500/20 flex items-center justify-center",children:e.jsxDEV("span",{className:"text-red-500 text-2xl",children:"!"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:172,columnNumber:13},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:171,columnNumber:11},this),e.jsxDEV("h2",{className:"text-xl font-bold text-foreground mb-2",children:"Error Loading Data"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:174,columnNumber:11},this),e.jsxDEV("p",{className:"text-muted-foreground mb-4",children:o},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:175,columnNumber:11},this),e.jsxDEV("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"Retry"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:176,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:170,columnNumber:9},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:169,columnNumber:7},this):e.jsxDEV("div",{className:"min-h-screen bg-background",children:[e.jsxDEV("header",{className:"border-b border-border bg-card",children:e.jsxDEV("div",{className:"max-w-screen-2xl mx-auto px-4 py-4",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center",children:e.jsxDEV(Re,{className:"w-5 h-5 text-primary"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:194,columnNumber:15},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:193,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-xl font-bold text-foreground",children:"Automatic Mode Detection"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:197,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Blind operating mode detection for cascaded CSTR process"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:198,columnNumber:15},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:196,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:192,columnNumber:11},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:191,columnNumber:9},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:190,columnNumber:7},this),e.jsxDEV("main",{className:"max-w-screen-2xl mx-auto p-4",children:e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsxDEV("div",{className:"lg:col-span-1 space-y-4",children:[e.jsxDEV(kt,{},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:211,columnNumber:13},this),e.jsxDEV(yt,{},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:212,columnNumber:13},this),e.jsxDEV(It,{onRunAnalysis:q},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:213,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:210,columnNumber:11},this),e.jsxDEV("div",{className:"lg:col-span-3",children:e.jsxDEV("div",{className:"bg-card rounded-xl border border-border overflow-hidden",children:[e.jsxDEV("div",{className:"flex border-b border-border",children:M.map(U=>e.jsxDEV("button",{onClick:()=>x(U.id),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition-colors
                      ${h===U.id?"bg-primary/10 text-primary border-b-2 border-primary -mb-px":"text-muted-foreground hover:text-foreground hover:bg-secondary/50"}`,children:[e.jsxDEV(U.icon,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:231,columnNumber:21},this),U.label]},U.id,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:222,columnNumber:19},this))},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:220,columnNumber:15},this),e.jsxDEV("div",{className:"p-4",children:[h==="timeseries"&&e.jsxDEV(Ct,{columns:O},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:239,columnNumber:48},this),h==="modes"&&e.jsxDEV(Ut,{},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:240,columnNumber:43},this),h==="results"&&e.jsxDEV(qt,{},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:241,columnNumber:45},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:238,columnNumber:15},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:218,columnNumber:13},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:217,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:208,columnNumber:9},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:207,columnNumber:7},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:188,columnNumber:5},this)}function At(){return e.jsxDEV(Tt,{children:e.jsxDEV(Rt,{},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:254,columnNumber:7},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/App.jsx",lineNumber:253,columnNumber:5},this)}Ce.createRoot(document.getElementById("root")).render(e.jsxDEV($s.StrictMode,{children:e.jsxDEV(At,{},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/main.jsx",lineNumber:8,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/facilis/workspace/storage/UeacMrfqp4VwdspSgVDjsIs4uPm1/projects/automatic-mode-detection/src/main.jsx",lineNumber:7,columnNumber:3},void 0));
